import sys\nclass TaskB:\n    def solve(self, in_stream, out_stream):\n        n = int(in_stream.readline())\n        a = [list(in_stream.readline().strip()) for _ in range(n)]\n        P, Q = 37, 47\n        powP = [1] * (n + 1)\n        powQ = [1] * (n + 1)\n        for i in range(1, n + 1):\n            powP[i] = powP[i - 1] * P\n            powQ[i] = powQ[i - 1] * Q\n\n        hashRow = [[0] * n for _ in range(n)]\n        hashCol = [[0] * n for _ in range(n)]\n        for i in range(n):\n            for j in range(n):\n                for k in range(n):\n                    hashRow[i][k] += ord(a[i][j]) * powP[(j - k + n) % n]\n                    hashCol[j][k] += ord(a[i][j]) * powP[(i - k + n) % n]\n\n        ans =  0\n        for A in range(n):\n            for B in range(n):\n                ok = True\n                for i in range(n):\n                    if hashRow[(i + A) % n][B] != hashCol[(i + B) % n][A]:\n                        ok = False\n                        break\n                if ok:\n                    ans += 1\n        out_stream.write(f'{{ans}}\n')\n\nif __name__ == '__main__':\n    in_stream = sys.stdin\n    out_stream = sys.stdout\n    solver = TaskB()\n    solver.solve(in_stream, out_stream)\n    out_stream.flush()\n# End of Code
